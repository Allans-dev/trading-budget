[{"/Users/allancheung/code/trading-budget/src/App.js":"1","/Users/allancheung/code/trading-budget/src/reportWebVitals.js":"2","/Users/allancheung/code/trading-budget/src/index.js":"3","/Users/allancheung/code/trading-budget/src/components/Header/Header.jsx":"4","/Users/allancheung/code/trading-budget/src/components/Footer/Footer.jsx":"5","/Users/allancheung/code/trading-budget/src/main-store.js":"6","/Users/allancheung/code/trading-budget/src/components/Budget/budget-store.js":"7","/Users/allancheung/code/trading-budget/src/components/Stocks/stocks-store.js":"8","/Users/allancheung/code/trading-budget/src/components/Stocks/Stocks.jsx":"9","/Users/allancheung/code/trading-budget/src/components/Budget/Budget.jsx":"10","/Users/allancheung/code/trading-budget/src/components/Stocks/StocksView.jsx":"11","/Users/allancheung/code/trading-budget/src/components/Budget/BudgetView.jsx":"12","/Users/allancheung/code/trading-budget/src/components/Budget/ExpenseItem.jsx":"13","/Users/allancheung/code/trading-budget/src/components/Stocks/StocksListItem.jsx":"14","/Users/allancheung/code/trading-budget/src/components/PrivacyPolicy/PrivacyPolicy.jsx":"15","/Users/allancheung/code/trading-budget/src/components/Disclaimer/Disclaimer.jsx":"16","/Users/allancheung/code/trading-budget/src/components/Analysis/Analysis.jsx":"17","/Users/allancheung/code/trading-budget/src/components/Analysis/AnalysisView.jsx":"18","/Users/allancheung/code/trading-budget/src/components/Landing/Landing.jsx":"19"},{"size":6874,"mtime":1629095388832,"results":"20","hashOfConfig":"21"},{"size":362,"mtime":1613642423048,"results":"22","hashOfConfig":"21"},{"size":500,"mtime":1613642423048,"results":"23","hashOfConfig":"21"},{"size":1166,"mtime":1629246808669,"results":"24","hashOfConfig":"21"},{"size":632,"mtime":1627695087782,"results":"25","hashOfConfig":"21"},{"size":634,"mtime":1627879020185,"results":"26","hashOfConfig":"21"},{"size":1960,"mtime":1628478010360,"results":"27","hashOfConfig":"21"},{"size":2029,"mtime":1628466436576,"results":"28","hashOfConfig":"21"},{"size":6644,"mtime":1629095689889,"results":"29","hashOfConfig":"21"},{"size":7322,"mtime":1628477663141,"results":"30","hashOfConfig":"21"},{"size":5015,"mtime":1629096041968,"results":"31","hashOfConfig":"21"},{"size":6994,"mtime":1628474490478,"results":"32","hashOfConfig":"21"},{"size":581,"mtime":1627631057392,"results":"33","hashOfConfig":"21"},{"size":1478,"mtime":1627630974780,"results":"34","hashOfConfig":"21"},{"size":6050,"mtime":1627707867872,"results":"35","hashOfConfig":"21"},{"size":1018,"mtime":1627708992905,"results":"36","hashOfConfig":"21"},{"size":5646,"mtime":1629095386865,"results":"37","hashOfConfig":"21"},{"size":2064,"mtime":1629097396965,"results":"38","hashOfConfig":"21"},{"size":424,"mtime":1629246505342,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"13w5ty9",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/allancheung/code/trading-budget/src/App.js",[],["80","81"],"/Users/allancheung/code/trading-budget/src/reportWebVitals.js",[],"/Users/allancheung/code/trading-budget/src/index.js",[],"/Users/allancheung/code/trading-budget/src/components/Header/Header.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Footer/Footer.jsx",[],"/Users/allancheung/code/trading-budget/src/main-store.js",[],"/Users/allancheung/code/trading-budget/src/components/Budget/budget-store.js",[],"/Users/allancheung/code/trading-budget/src/components/Stocks/stocks-store.js",[],"/Users/allancheung/code/trading-budget/src/components/Stocks/Stocks.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Budget/Budget.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Stocks/StocksView.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Budget/BudgetView.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Budget/ExpenseItem.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Stocks/StocksListItem.jsx",[],"/Users/allancheung/code/trading-budget/src/components/PrivacyPolicy/PrivacyPolicy.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Disclaimer/Disclaimer.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Analysis/Analysis.jsx",["82","83","84"],"import React, { useContext, useEffect } from \"react\";\n\nimport AnalysisView from \"./AnalysisView\";\n\nimport { store as stockStore } from \"../Stocks/stocks-store\";\nimport { store as budgetStore } from \"../Budget/budget-store\";\n\nimport firebase from \"firebase/app\";\nimport \"firebase/firestore\";\n\nconst Analysis = () => {\n  const db = firebase.firestore();\n  const user = firebase.auth().currentUser;\n\n  const sContext = useContext(stockStore);\n  const bContext = useContext(budgetStore);\n\n  const { stocksList } = sContext.state;\n  const { expenseArray } = bContext.state;\n\n  const getAnalysisData = async () => {\n    const listRef = db.collection(\"users\").doc(user.uid);\n    await listRef\n      .get()\n      .then((doc) => {\n        sContext.dispatch({\n          type: \"updateStocksList\",\n          payload: doc.data().stocksList ? doc.data().stocksList : stocksList,\n        });\n        bContext.dispatch({\n          type: \"updateExpenses\",\n          payload: doc.data().expenseArray\n            ? doc.data().expenseArray\n            : expenseArray,\n        });\n        console.log(\"Document stocks:\", doc.data().stocksList);\n        console.log(\"Document Expenses:\", doc.data().expenseArray);\n      })\n      .catch(() => {\n        console.log(\"No such document!\");\n      });\n  };\n\n  useEffect(() => {\n    getAnalysisData();\n    // eslint-disable-next-line\n  }, []);\n\n  const sortedCost = expenseArray.sort((a, b) => {\n    var nameA = a.category.toUpperCase();\n    var nameB = b.category.toUpperCase();\n    if (nameA < nameB) {\n      return -1;\n    }\n    if (nameA > nameB) {\n      return 1;\n    }\n    return 0;\n  });\n\n  const categoryArray = sortedCost\n    .map((val, index) => {\n      const prev = index - 1 >= 0 ? index - 1 : 0;\n\n      return val.category !== sortedCost[prev].category || index === 0\n        ? val.category\n        : null;\n    })\n    .filter((val, index) => {\n      return val !== null;\n    });\n\n  const extractKeyValues = (keyList, masterList, keyNameOne, keyNameTwo) => {\n    const array = [];\n    keyList.map((val) => {\n      masterList.map((val2) => {\n        let temp = {};\n        if (val === val2[keyNameOne]) {\n          temp[val2[keyNameOne]] = val2[keyNameTwo];\n          array.push(temp);\n        }\n        temp = {};\n      });\n    });\n    return array;\n  };\n\n  const budgetKeyValues = extractKeyValues(\n    categoryArray,\n    sortedCost,\n    \"category\",\n    \"cost\"\n  );\n\n  const addValuesIntoObject = (arr) => {\n    let obj = {};\n    arr.forEach((list) => {\n      for (let [key, value] of Object.entries(list)) {\n        if (obj[key]) {\n          obj[key] += value;\n        } else obj[key] = value;\n      }\n    });\n    return obj;\n  };\n\n  const totalExpenseByCaterory = addValuesIntoObject(budgetKeyValues);\n\n  const keyValueToCoords = (obj) => {\n    const arr = [];\n    for (const key in obj) {\n      arr.push({ x: key, y: obj[key] });\n    }\n    return arr;\n  };\n\n  //===============================================================\n\n  const budgetInner = keyValueToCoords(totalExpenseByCaterory);\n\n  const budgetOuter =\n    sortedCost.length > 0\n      ? sortedCost.map((val, index) => {\n          return {\n            x: val.cost,\n            y: val.cost,\n          };\n        })\n      : [];\n\n  //===============================================================\n\n  const sortedStocks = stocksList.sort((a, b) => {\n    return b.iProfit - a.iProfit;\n  });\n\n  const StockNameArray = stocksList\n    .map((val, index) => {\n      const prev = index - 1 >= 0 ? index - 1 : 0;\n\n      return val.stockName !== stocksList[prev].stockName || index === 0\n        ? val.stockName\n        : null;\n    })\n    .filter((val, index) => {\n      return val !== null;\n    });\n\n  const stocksKeyValues = extractKeyValues(\n    StockNameArray,\n    stocksList,\n    \"stockName\",\n    \"iProfit\"\n  );\n\n  const addSelectedValuesIntoObject = (arr) => {\n    let obj = { profit: 0, loss: 0 };\n    arr.forEach((list) => {\n      for (let [key, value] of Object.entries(list)) {\n        if (value >= 0) {\n          obj.profit += value;\n        } else if (value < 0) {\n          obj.loss += value;\n        }\n      }\n    });\n\n    obj.loss *= -1;\n\n    if (obj.loss && obj.profit) {\n      return obj;\n    } else if (obj.loss && !obj.profit) {\n      obj = {};\n      obj.loss = 1;\n      return obj;\n    } else if (obj.profit && !obj.loss) {\n      obj = {};\n      obj.profit = 1;\n      return obj;\n    } else {\n      return {};\n    }\n  };\n\n  const nameProfitObject = addSelectedValuesIntoObject(stocksKeyValues);\n\n  //===============================================================\n\n  const stocksInner = keyValueToCoords(nameProfitObject);\n\n  const stocksOuter =\n    sortedStocks.length > 0\n      ? sortedStocks.map((val, index) => {\n          return {\n            x: val.stockName + \" \" + val.iProfit,\n            y: val.iProfit >= 0 ? val.iProfit : val.iProfit * -1,\n            profit: val.iProfit >= 0 ? true : false,\n          };\n        })\n      : [];\n\n  //===============================================================\n\n  return stocksList.length < 1 && expenseArray.length < 1 ? (\n    <div\n      style={{\n        backgroundColor: \"rgba(26, 26, 26, 0.5)\",\n        width: \"300px\",\n        height: \"55px\",\n        margin: \"0 auto\",\n        color: \"#d6d6d6\",\n        textAlign: \"center\",\n        padding: \"15px\",\n        borderRadius: \"15px\",\n        alignSelf: \"center\",\n      }}\n    >\n      Please enter a stock or an expense to see it charted.\n    </div>\n  ) : (\n    <AnalysisView\n      stocksOuter={stocksOuter}\n      stocksInner={stocksInner}\n      budgetOuter={budgetOuter}\n      budgetInner={budgetInner}\n    />\n  );\n};\n\nexport default Analysis;\n","/Users/allancheung/code/trading-budget/src/components/Analysis/AnalysisView.jsx",[],"/Users/allancheung/code/trading-budget/src/components/Landing/Landing.jsx",[],{"ruleId":"85","replacedBy":"86"},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","severity":1,"message":"90","line":75,"column":23,"nodeType":"91","messageId":"92","endLine":75,"endColumn":25},{"ruleId":"89","severity":1,"message":"90","line":76,"column":29,"nodeType":"91","messageId":"92","endLine":76,"endColumn":31},{"ruleId":"93","severity":1,"message":"94","line":159,"column":17,"nodeType":"95","messageId":"96","endLine":159,"endColumn":20},"no-native-reassign",["97"],"no-negated-in-lhs",["98"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","no-unused-vars","'key' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]